sources:
  - name: fantasy_premier_league
    database: fantasy-premier-league-469511
    schema: raw_fpl
    tables:
      - name: raw_fpl_element_types
        description: 'Clone of raw element types data extracted from the FPL API. Grain: One record is equal to one event.'
        columns:
          - name: id
            description: Unique identifier of element types. This attribute is the tables PRIMARY KEY.
            tests:
              - not_null
          - name: extraction_method
            tests:
              - not_null
              - accepted_values:
                  values: ['automated']
          - name: extraction_source
            tests:
              - not_null
              - accepted_values:
                  values: ['fpl_api']
          - name: extraction_timestamp
            tests:
              - not_null
          - name: sub_positions_locked
          - name: squad_select
            tests:
              - not_null
          - name: ui_shirt_specific
            tests:
              - not_null
          - name: squad_max_play
            tests:
              - not_null
          - name: squad_min_play
            tests:
              - not_null
          - name: squad_max_select
          - name: singular_name_short
            tests:
              - not_null
              - accepted_values:
                  values: ['GKP', 'DEF', 'MID', 'FWD']
          - name: plural_name_short
            tests:
              - not_null
              - accepted_values:
                  values: ['GKP', 'DEF', 'MID', 'FWD']
          - name: singular_name
            tests:
              - not_null
              - accepted_values:
                  values: ['Goalkeeper', 'Defender', 'Midfielder', 'Forward']
          - name: element_count
          - name: plural_name
            tests:
              - not_null
              - accepted_values:
                  values: ['Goalkeepers', 'Defenders', 'Midfielders', 'Forwards']

      - name: raw_fpl_phases
        description: 'Clone of raw phases data extracted from the FPL API. Grain: One record is equal to one phase.'
        columns:
          - name: id
            tests:
              - not_null
          - name: name
            tests:
              - not_null
          - name: start_event
            tests:
              - not_null
          - name: stop_event
            tests:
              - not_null
          - name: highest_score
            tests:
              - not_null
          - name: extraction_method
            tests:
              - not_null
          - name: extraction_source
            tests:
              - not_null
          - name: extraction_timestamp
            tests:
              - not_null

      - name: raw_fpl_teams
        description: 'Clone of raw teams data extracted from the FPL API. Grain: One record is equal to one team.'
        columns:
          - name: id
            tests:
              - not_null
          - name: code
            tests:
              - not_null
          - name: pulse_id
            tests:
              - not_null
          - name: name
            tests:
              - not_null
          - name: short_name
            tests:
              - not_null
          - name: strength
            tests:
              - not_null
          - name: strength_overall_home
            tests:
              - not_null
          - name: strength_overall_away
            tests:
              - not_null
          - name: strength_attack_home
            tests:
              - not_null
          - name: strength_attack_away
            tests:
              - not_null
          - name: strength_defence_home
            tests:
              - not_null
          - name: strength_defence_away
            tests:
              - not_null
          - name: position
            tests:
              - not_null
          - name: extraction_timestamp
            tests:
              - not_null
          - name: extraction_source
            tests:
              - not_null
          - name: extraction_method
            tests:
              - not_null

      - name: raw_fpl_fixtures
        description: 'Clone of raw fixture data extracted from the FPL API. Grain: One record is equal to one event.'
        columns:
          - name: id
            tests:
              - not_null
          - name: code
            tests:
              - not_null
          - name: kickoff_time
            tests:
              - not_null
          - name: provisional_start_time
            tests:
              - not_null
          - name: started
            tests:
              - not_null
          - name: finished
            tests:
              - not_null
          - name: finished_provisional
            tests:
              - not_null
          - name: event
            tests:
              - not_null
          - name: pulse_id
            tests:
              - not_null
          - name: team_h
            tests:
              - not_null
          - name: team_h_difficulty
            tests:
              - not_null
          - name: team_h_score
            tests:
              - not_null
          - name: team_a
            tests:
              - not_null
          - name: team_a_difficulty
            tests:
              - not_null
          - name: team_a_score
            tests:
              - not_null
          - name: minutes
            tests:
              - not_null
      - name: raw_fpl_element_summaries_past_season
        description: 'Clone of raw fixture data extracted from the FPL API. Grain: One record is equal to one event.'
        columns:
          - name: element_id
            tests:
              - not_null
          - name: element_code
            tests:
              - not_null
          - name: season_name
            tests:
              - not_null
          - name: start_cost
            tests:
              - not_null
          - name: end_cost
            tests:
              - not_null
          - name: starts
            tests:
              - not_null
          - name: minutes
            tests:
              - not_null
          - name: total_points
            tests:
              - not_null
          - name: goals_scored
            tests:
              - not_null
          - name: expected_goals
            tests:
              - not_null
          - name: assists
            tests:
              - not_null
          - name: expected_assists
            tests:
              - not_null
          - name: expected_goal_involvements
            tests:
              - not_null
          - name: clean_sheets
            tests:
              - not_null
          - name: goals_conceded
            tests:
              - not_null
          - name: expected_goals_conceded
            tests:
              - not_null
          - name: saves
            tests:
              - not_null
          - name: tackles
            tests:
              - not_null
          - name: recoveries
            tests:
              - not_null
          - name: clearances_blocks_interceptions
            tests:
              - not_null
          - name: defensive_contribution
            tests:
              - not_null
          - name: penalties_missed
            tests:
              - not_null
          - name: penalties_saved
            tests:
              - not_null
          - name: own_goals
            tests:
              - not_null
          - name: bps
            tests:
              - not_null
          - name: bonus
            tests:
              - not_null
          - name: yellow_cards
            tests:
              - not_null
          - name: red_cards
            tests:
              - not_null
          - name: ict_index
            tests:
              - not_null
          - name: threat
            tests:
              - not_null
          - name: creativity
            tests:
              - not_null
          - name: influence
            tests:
              - not_null